[gd_scene load_steps=19 format=3 uid="uid://bre8hpn61s3n"]

[ext_resource type="Script" path="res://Scenes/Lobby/lobby.gd" id="1_ao4iv"]
[ext_resource type="Texture2D" uid="uid://c5b6lpwbd6aq6" path="res://Assets/APARTMENT/APT_LOBBY/APT_LOBBY_FLOOR.png" id="2_tmgmi"]
[ext_resource type="Texture2D" uid="uid://da8vb6ycgrfjo" path="res://Assets/APARTMENT/APT_LOBBY/APT_LOBBY_WALLS.png" id="3_5qg3i"]
[ext_resource type="Texture2D" uid="uid://b8bsfyuwa1ft8" path="res://Assets/APARTMENT/APT_LOBBY/APT_LOBBY_FURNITURE.png" id="4_jtfey"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="5_nsmg7"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="6_5ro5c"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="7_7xpum"]
[ext_resource type="PackedScene" uid="uid://cfks6he7p50ls" path="res://SceneTrigger/scene_trigger.tscn" id="8_m53kc"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fqs68"]
texture = ExtResource("2_tmgmi")
7:7/size_in_atlas = Vector2i(26, 20)
7:7/0 = 0

[sub_resource type="TileSet" id="TileSet_hdm2x"]
sources/1 = SubResource("TileSetAtlasSource_fqs68")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ovoo0"]
texture = ExtResource("3_5qg3i")
7:2/size_in_atlas = Vector2i(26, 26)
7:2/0 = 0
7:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(46.375, -122.5, 191.875, -121.5, 192.125, 15, 42.875, 15, 43.125, 100.25, 102.375, 101.25, 102.125, 193.5, 22.625, 192.75, 22.125, 200.75, 110.125, 201.25, 110.375, 22.5, 200.125, 22.75, 199.625, -208.5, 37.625, -208, 38.125, -181.5, -39.125, -180.25, -39.125, -208, -200.875, -207.75, -200.625, -121.75, -47.875, -123.25, -47.375, -96, -24.625, -95.25, 45.125, -96.5)
7:2/0/physics_layer_0/polygon_1/points = PackedVector2Array(-201.232, -69.4901, -192.991, -69.2674, -192.768, 15.1453, -43.9881, 15.368, -44.2108, 100.894, -102.565, 101.562, -103.01, 192.88, -25.0565, 192.657, -25.2792, 200.675, -111.251, 200.675, -111.028, 23.3861, -201.009, 23.3861)

[sub_resource type="TileSet" id="TileSet_ssjyj"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_ovoo0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_u622d"]
texture = ExtResource("4_jtfey")
7:3/size_in_atlas = Vector2i(25, 25)
7:3/0 = 0
7:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(136.125, -121.5, 138.125, -119, 184.875, -117.5, 187.875, -122.25, 187.125, -197.25, 137.125, -198)
7:3/0/physics_layer_0/polygon_1/points = PackedVector2Array(194.375, -93.5, 96.875, -93, 96.625, 7.5, 124.125, 8.75, 125.125, -65.25, 155.375, -63.5, 154.375, -47.5, 170.875, -48.25, 170.375, -65.5, 194.875, -64.5)
7:3/0/physics_layer_0/polygon_2/points = PackedVector2Array(-62.625, -135.75, -53.375, -136.75, -52.125, -123, -59.875, -123)
7:3/0/physics_layer_0/polygon_3/points = PackedVector2Array(-68.875, -83.5, -70.625, -89.5, -68.375, -91, -54.375, -92, -53.125, -95.5, -46.125, -95, -45.125, -60, -49.375, -55.5, -67.125, -56.75, -70.875, -64.25, -72.125, -70.5, -71.125, -76.5)
7:3/0/physics_layer_0/polygon_4/points = PackedVector2Array(-124.875, -86.5, -97.875, -87, -96.875, -52.75, -125.125, -51)
7:3/0/physics_layer_0/polygon_5/points = PackedVector2Array(-173.875, -95.75, -168.875, -95, -167.625, -91, -150.625, -91.25, -149.375, -78.75, -149.875, -65.75, -152.625, -55.5, -173.125, -56.75, -175.125, -64.25)
7:3/0/physics_layer_0/polygon_6/points = PackedVector2Array(-140.875, -14.5, -140.875, -29.5, -136.625, -32.25, -138.375, -45, -87.125, -47.5, -86.125, -34.25, -83.125, -29.5, -82.875, -14.75)
7:3/0/physics_layer_0/polygon_7/points = PackedVector2Array(-96.2265, 157.805, -78.2726, 157.805, -82.0524, 183.004, -94.3366, 179.539)
7:3/0/physics_layer_0/polygon_8/points = PackedVector2Array(50.0278, 78.1353, 66.6448, 78.4889, 68.4126, 78.1353, 69.8268, 93.6917, 64.8771, 101.823, 54.9776, 102.53)
7:3/0/physics_layer_0/polygon_9/points = PackedVector2Array(79.0192, 54.0937, 104.121, 54.8008, 104.475, 185.969, 81.1405, 186.323)

[sub_resource type="TileSet" id="TileSet_5bvc5"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_u622d")

[sub_resource type="Resource" id="Resource_nmleu"]
script = ExtResource("7_7xpum")
duration = 1.0
transition = 0
ease = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sws04"]
size = Vector2(413, 412)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ytyv"]
size = Vector2(6, 53)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ypfkd"]
size = Vector2(48, 74)

[node name="Lobby" type="Node2D"]
script = ExtResource("1_ao4iv")

[node name="Floor" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray(0, 0, 0, 0, 0, 0, 1, 0, 7, 0, 7, 0, 0, 0)
tile_set = SubResource("TileSet_hdm2x")

[node name="Walls" type="TileMapLayer" parent="."]
texture_filter = 1
position = Vector2(0, -1)
tile_map_data = PackedByteArray(0, 0, 0, 0, 254, 255, 0, 0, 7, 0, 2, 0, 0, 0)
tile_set = SubResource("TileSet_ssjyj")

[node name="Things" type="TileMapLayer" parent="."]
position = Vector2(-2, 7)
tile_map_data = PackedByteArray(0, 0, 0, 0, 254, 255, 0, 0, 7, 0, 3, 0, 0, 0)
tile_set = SubResource("TileSet_5bvc5")

[node name="EntranceMarkers" type="Node2D" parent="."]

[node name="hallway" type="Marker2D" parent="EntranceMarkers"]
position = Vector2(85, -141)

[node name="lobby_hallway" type="Marker2D" parent="EntranceMarkers"]
position = Vector2(-175, -120)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(30, -98)
zoom = Vector2(3, 2.5)
limit_left = -195
limit_top = -234
limit_right = 218
limit_bottom = 178

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("5_nsmg7")

[node name="PhantomCamera2D" type="Node2D" parent="."]
top_level = true
position = Vector2(30, -98)
script = ExtResource("6_5ro5c")
follow_mode = 5
zoom = Vector2(3, 2.5)
tween_resource = SubResource("Resource_nmleu")
follow_damping = true
limit_target = NodePath("../camera_bounds/collision")

[node name="camera_bounds" type="Area2D" parent="."]

[node name="collision" type="CollisionShape2D" parent="camera_bounds"]
position = Vector2(11.5, -28)
shape = SubResource("RectangleShape2D_sws04")
disabled = true

[node name="LobbyExit" parent="." instance=ExtResource("8_m53kc")]
z_index = 2
position = Vector2(-192, -120)
connected_scene = "Lobby_Hallway/lobby_hallway"

[node name="CollisionShape2D" type="CollisionShape2D" parent="LobbyExit"]
z_index = 1
position = Vector2(1, -0.5)
shape = SubResource("RectangleShape2D_7ytyv")

[node name="SceneTrigger" parent="." instance=ExtResource("8_m53kc")]
position = Vector2(84, -179)
connected_scene = "Hallway/hallway"
is_interact = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="SceneTrigger"]
position = Vector2(1, -3)
shape = SubResource("RectangleShape2D_ypfkd")
