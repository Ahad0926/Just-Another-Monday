[gd_scene load_steps=22 format=3 uid="uid://bre8hpn61s3n"]

[ext_resource type="Script" path="res://Scenes/Lobby/lobby.gd" id="1_ao4iv"]
[ext_resource type="Texture2D" uid="uid://c5b6lpwbd6aq6" path="res://Assets/APARTMENT/APT_LOBBY/APT_LOBBY_FLOOR.png" id="2_tmgmi"]
[ext_resource type="Texture2D" uid="uid://da8vb6ycgrfjo" path="res://Assets/APARTMENT/APT_LOBBY/APT_LOBBY_WALLS.png" id="3_5qg3i"]
[ext_resource type="Texture2D" uid="uid://b8bsfyuwa1ft8" path="res://Assets/APARTMENT/APT_LOBBY/APT_LOBBY_FURNITURE.png" id="4_jtfey"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="5_nsmg7"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="6_5ro5c"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="7_7xpum"]
[ext_resource type="PackedScene" uid="uid://cfks6he7p50ls" path="res://SceneTrigger/scene_trigger.tscn" id="8_m53kc"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fqs68"]
texture = ExtResource("2_tmgmi")
7:7/size_in_atlas = Vector2i(26, 20)
7:7/0 = 0

[sub_resource type="TileSet" id="TileSet_hdm2x"]
sources/1 = SubResource("TileSetAtlasSource_fqs68")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ovoo0"]
texture = ExtResource("3_5qg3i")
7:2/size_in_atlas = Vector2i(26, 26)
7:2/0 = 0
7:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(46.375, -122.5, 191.875, -121.5, 192.125, 15, 42.875, 15, 43.125, 100.25, 102.375, 101.25, 102.125, 193.5, 22.625, 192.75, 22.125, 200.75, 110.125, 201.25, 110.375, 22.5, 200.125, 22.75, 199.625, -208.5, 37.625, -208, 38.125, -181.5, -39.125, -180.25, -39.125, -208, -200.875, -207.75, -200.625, -121.75, -47.875, -123.25, -47.375, -96, -24.625, -95.25, 45.125, -96.5)
7:2/0/physics_layer_0/polygon_1/points = PackedVector2Array(-201.232, -69.4901, -192.991, -69.2674, -192.768, 15.1453, -43.9881, 15.368, -44.2108, 100.894, -102.565, 101.562, -103.01, 192.88, -25.0565, 192.657, -25.2792, 200.675, -111.251, 200.675, -111.028, 23.3861, -201.009, 23.3861)

[sub_resource type="TileSet" id="TileSet_ssjyj"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_ovoo0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_u622d"]
texture = ExtResource("4_jtfey")
7:3/size_in_atlas = Vector2i(25, 25)
7:3/0 = 0
7:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(136.125, -121.5, 138.125, -119, 184.875, -117.5, 187.875, -122.25, 187.125, -197.25, 137.125, -198)
7:3/0/physics_layer_0/polygon_1/points = PackedVector2Array(194.375, -93.5, 96.875, -93, 96.625, 7.5, 124.125, 8.75, 125.125, -65.25, 155.375, -63.5, 154.375, -47.5, 170.875, -48.25, 170.375, -65.5, 194.875, -64.5)
7:3/0/physics_layer_0/polygon_2/points = PackedVector2Array(-62.625, -135.75, -53.375, -136.75, -52.125, -123, -59.875, -123)
7:3/0/physics_layer_0/polygon_3/points = PackedVector2Array(-68.875, -83.5, -69.1875, -89.0625, -68.375, -91, -52.3125, -90.3125, -52.4375, -93.9375, -45.4375, -94.0625, -46.0625, -60.1875, -49.375, -55.5, -67.125, -56.75, -70.875, -64.25, -72.125, -70.5, -71.125, -76.5)
7:3/0/physics_layer_0/polygon_4/points = PackedVector2Array(-124.875, -86.5, -97.875, -87, -97.0625, -54.9375, -125.188, -54.6875)
7:3/0/physics_layer_0/polygon_5/points = PackedVector2Array(-173.188, -93.9375, -167.563, -93.9375, -167.625, -91, -150.313, -90.4375, -149.375, -78.75, -149.875, -65.75, -152.625, -55.5, -173.125, -56.75, -173.313, -64.5625)
7:3/0/physics_layer_0/polygon_6/points = PackedVector2Array(-140.875, -14.5, -140.875, -29.5, -137.938, -31.9375, -137.938, -44.3125, -85.9375, -44.6875, -86.125, -34.25, -83.125, -29.5, -82.875, -14.75)
7:3/0/physics_layer_0/polygon_7/points = PackedVector2Array(-96.2265, 157.805, -78.2726, 157.805, -82.0524, 183.004, -94.3366, 179.539)
7:3/0/physics_layer_0/polygon_8/points = PackedVector2Array(50.0278, 78.1353, 66.6448, 78.4889, 68.4126, 78.1353, 69.8268, 93.6917, 64.8771, 101.823, 54.9776, 102.53)
7:3/0/physics_layer_0/polygon_9/points = PackedVector2Array(79.0192, 54.0937, 104.121, 54.8008, 104.475, 185.969, 81.1405, 186.323)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_i23pp"]
texture = ExtResource("4_jtfey")
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
26:3/0 = 0
27:3/0 = 0
28:3/0 = 0
29:3/0 = 0
30:3/0 = 0
31:3/0 = 0
8:4/0 = 0
9:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
26:4/0 = 0
27:4/0 = 0
28:4/0 = 0
29:4/0 = 0
30:4/0 = 0
31:4/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
15:5/0 = 0
16:5/0 = 0
21:5/0 = 0
28:5/0 = 0
29:5/0 = 0
30:5/0 = 0
31:5/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
16:6/0 = 0
21:6/0 = 0
28:6/0 = 0
29:6/0 = 0
30:6/0 = 0
31:6/0 = 0
15:7/0 = 0
16:7/0 = 0
28:7/0 = 0
29:7/0 = 0
30:7/0 = 0
31:7/0 = 0
27:8/0 = 0
28:8/0 = 0
29:8/0 = 0
30:8/0 = 0
31:8/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
15:9/0 = 0
16:9/0 = 0
25:9/0 = 0
26:9/0 = 0
27:9/0 = 0
28:9/0 = 0
29:9/0 = 0
30:9/0 = 0
31:9/0 = 0
8:10/0 = 0
9:10/0 = 0
10:10/0 = 0
11:10/0 = 0
12:10/0 = 0
13:10/0 = 0
15:10/0 = 0
16:10/0 = 0
25:10/0 = 0
26:10/0 = 0
27:10/0 = 0
28:10/0 = 0
29:10/0 = 0
30:10/0 = 0
31:10/0 = 0
8:11/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
15:11/0 = 0
16:11/0 = 0
25:11/0 = 0
26:11/0 = 0
27:11/0 = 0
28:11/0 = 0
29:11/0 = 0
30:11/0 = 0
31:11/0 = 0
8:12/0 = 0
9:12/0 = 0
10:12/0 = 0
11:12/0 = 0
12:12/0 = 0
13:12/0 = 0
14:12/0 = 0
15:12/0 = 0
16:12/0 = 0
25:12/0 = 0
26:12/0 = 0
27:12/0 = 0
28:12/0 = 0
29:12/0 = 0
30:12/0 = 0
10:13/0 = 0
11:13/0 = 0
12:13/0 = 0
13:13/0 = 0
14:13/0 = 0
25:13/0 = 0
26:13/0 = 0
27:13/0 = 0
28:13/0 = 0
10:14/0 = 0
11:14/0 = 0
12:14/0 = 0
13:14/0 = 0
14:14/0 = 0
25:14/0 = 0
26:14/0 = 0
27:14/0 = 0
25:15/0 = 0
26:15/0 = 0
27:15/0 = 0
13:18/0 = 0
14:18/0 = 0
22:18/0 = 0
23:18/0 = 0
24:18/0 = 0
25:18/0 = 0
26:18/0 = 0
13:19/0 = 0
14:19/0 = 0
22:19/0 = 0
23:19/0 = 0
24:19/0 = 0
25:19/0 = 0
26:19/0 = 0
22:20/0 = 0
23:20/0 = 0
24:20/0 = 0
25:20/0 = 0
26:20/0 = 0
22:21/0 = 0
23:21/0 = 0
24:21/0 = 0
25:21/0 = 0
26:21/0 = 0
24:22/0 = 0
25:22/0 = 0
26:22/0 = 0
13:23/0 = 0
14:23/0 = 0
15:23/0 = 0
16:23/0 = 0
17:23/0 = 0
18:23/0 = 0
19:23/0 = 0
20:23/0 = 0
21:23/0 = 0
22:23/0 = 0
23:23/0 = 0
24:23/0 = 0
25:23/0 = 0
26:23/0 = 0
13:24/0 = 0
14:24/0 = 0
15:24/0 = 0
16:24/0 = 0
17:24/0 = 0
18:24/0 = 0
19:24/0 = 0
20:24/0 = 0
21:24/0 = 0
22:24/0 = 0
23:24/0 = 0
24:24/0 = 0
25:24/0 = 0
26:24/0 = 0
13:25/0 = 0
14:25/0 = 0
15:25/0 = 0
16:25/0 = 0
17:25/0 = 0
18:25/0 = 0
19:25/0 = 0
20:25/0 = 0
21:25/0 = 0
22:25/0 = 0
23:25/0 = 0
24:25/0 = 0
25:25/0 = 0
26:25/0 = 0
13:26/0 = 0
14:26/0 = 0
15:26/0 = 0
16:26/0 = 0
17:26/0 = 0
18:26/0 = 0
19:26/0 = 0
20:26/0 = 0
21:26/0 = 0
22:26/0 = 0
23:26/0 = 0
24:26/0 = 0
25:26/0 = 0
26:26/0 = 0
15:27/0 = 0
16:27/0 = 0
17:27/0 = 0
18:27/0 = 0
19:27/0 = 0
20:27/0 = 0
21:27/0 = 0
22:27/0 = 0
23:27/0 = 0
24:27/0 = 0
25:27/0 = 0
26:27/0 = 0

[sub_resource type="TileSet" id="TileSet_5bvc5"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_u622d")
sources/1 = SubResource("TileSetAtlasSource_i23pp")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_n47m0"]
texture = ExtResource("4_jtfey")
margins = Vector2i(0, 3)
27:9/0 = 0
28:9/0 = 0
27:8/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
26:3/0 = 0
27:3/0 = 0
28:3/0 = 0
29:3/0 = 0
30:3/0 = 0
31:3/0 = 0
8:4/0 = 0
9:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
26:4/0 = 0
27:4/0 = 0
28:4/0 = 0
29:4/0 = 0
30:4/0 = 0
31:4/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
15:5/0 = 0
16:5/0 = 0
21:5/0 = 0
28:5/0 = 0
29:5/0 = 0
30:5/0 = 0
31:5/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
16:6/0 = 0
21:6/0 = 0
28:6/0 = 0
29:6/0 = 0
30:6/0 = 0
31:6/0 = 0
15:7/0 = 0
16:7/0 = 0
29:7/0 = 0
30:7/0 = 0
31:7/0 = 0
29:8/0 = 0
30:8/0 = 0
31:8/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
15:9/0 = 0
16:9/0 = 0
25:9/0 = 0
26:9/0 = 0
29:9/0 = 0
30:9/0 = 0
31:9/0 = 0
8:10/0 = 0
9:10/0 = 0
10:10/0 = 0
11:10/0 = 0
12:10/0 = 0
13:10/0 = 0
15:10/0 = 0
16:10/0 = 0
25:10/0 = 0
26:10/0 = 0
27:10/0 = 0
28:10/0 = 0
29:10/0 = 0
30:10/0 = 0
31:10/0 = 0
8:11/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
15:11/0 = 0
16:11/0 = 0
25:11/0 = 0
26:11/0 = 0
27:11/0 = 0
28:11/0 = 0
29:11/0 = 0
30:11/0 = 0
31:11/0 = 0
8:12/0 = 0
9:12/0 = 0
10:12/0 = 0
11:12/0 = 0
12:12/0 = 0
13:12/0 = 0
14:12/0 = 0
15:12/0 = 0
16:12/0 = 0
25:12/0 = 0
26:12/0 = 0
27:12/0 = 0
28:12/0 = 0
29:12/0 = 0
30:12/0 = 0
10:13/0 = 0
11:13/0 = 0
12:13/0 = 0
13:13/0 = 0
14:13/0 = 0
25:13/0 = 0
26:13/0 = 0
27:13/0 = 0
28:13/0 = 0
10:14/0 = 0
11:14/0 = 0
12:14/0 = 0
13:14/0 = 0
14:14/0 = 0
25:14/0 = 0
26:14/0 = 0
27:14/0 = 0
25:15/0 = 0
26:15/0 = 0
27:15/0 = 0
13:18/0 = 0
14:18/0 = 0
22:18/0 = 0
23:18/0 = 0
24:18/0 = 0
25:18/0 = 0
26:18/0 = 0
13:19/0 = 0
14:19/0 = 0
22:19/0 = 0
23:19/0 = 0
24:19/0 = 0
25:19/0 = 0
26:19/0 = 0
22:20/0 = 0
23:20/0 = 0
24:20/0 = 0
25:20/0 = 0
26:20/0 = 0
22:21/0 = 0
23:21/0 = 0
24:21/0 = 0
25:21/0 = 0
26:21/0 = 0
24:22/0 = 0
25:22/0 = 0
26:22/0 = 0
13:23/0 = 0
14:23/0 = 0
15:23/0 = 0
16:23/0 = 0
17:23/0 = 0
18:23/0 = 0
19:23/0 = 0
20:23/0 = 0
21:23/0 = 0
22:23/0 = 0
23:23/0 = 0
24:23/0 = 0
25:23/0 = 0
26:23/0 = 0
13:24/0 = 0
14:24/0 = 0
15:24/0 = 0
16:24/0 = 0
17:24/0 = 0
18:24/0 = 0
19:24/0 = 0
20:24/0 = 0
21:24/0 = 0
22:24/0 = 0
23:24/0 = 0
24:24/0 = 0
25:24/0 = 0
26:24/0 = 0
13:25/0 = 0
14:25/0 = 0
15:25/0 = 0
16:25/0 = 0
17:25/0 = 0
18:25/0 = 0
19:25/0 = 0
20:25/0 = 0
21:25/0 = 0
22:25/0 = 0
23:25/0 = 0
24:25/0 = 0
25:25/0 = 0
26:25/0 = 0
13:26/0 = 0
14:26/0 = 0
15:26/0 = 0
16:26/0 = 0
17:26/0 = 0
18:26/0 = 0
19:26/0 = 0
20:26/0 = 0
21:26/0 = 0
22:26/0 = 0
23:26/0 = 0
24:26/0 = 0
25:26/0 = 0
26:26/0 = 0
15:27/0 = 0
16:27/0 = 0
17:27/0 = 0
18:27/0 = 0
19:27/0 = 0
20:27/0 = 0
21:27/0 = 0
22:27/0 = 0
23:27/0 = 0
24:27/0 = 0
25:27/0 = 0
26:27/0 = 0
28:8/0 = 0

[sub_resource type="TileSet" id="TileSet_yhbwe"]
sources/0 = SubResource("TileSetAtlasSource_n47m0")

[sub_resource type="Resource" id="Resource_nmleu"]
script = ExtResource("7_7xpum")
duration = 1.0
transition = 0
ease = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sws04"]
size = Vector2(413, 412)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ytyv"]
size = Vector2(6, 53)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ypfkd"]
size = Vector2(48, 74)

[node name="Lobby" type="Node2D"]
position = Vector2(-1, 2)
script = ExtResource("1_ao4iv")

[node name="Floor" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray(0, 0, 0, 0, 0, 0, 1, 0, 7, 0, 7, 0, 0, 0)
tile_set = SubResource("TileSet_hdm2x")

[node name="Walls" type="TileMapLayer" parent="."]
texture_filter = 1
position = Vector2(0, -1)
tile_map_data = PackedByteArray(0, 0, 0, 0, 254, 255, 0, 0, 7, 0, 2, 0, 0, 0)
tile_set = SubResource("TileSet_ssjyj")

[node name="Things" type="TileMapLayer" parent="."]
position = Vector2(-2, 7)
tile_map_data = PackedByteArray(0, 0, 0, 0, 254, 255, 0, 0, 7, 0, 3, 0, 0, 0)
tile_set = SubResource("TileSet_5bvc5")

[node name="TileMapLayer" type="TileMapLayer" parent="Things"]
z_index = 99
position = Vector2(0, 3)
tile_map_data = PackedByteArray(0, 0, 8, 0, 247, 255, 0, 0, 27, 0, 8, 0, 0, 0, 8, 0, 248, 255, 0, 0, 27, 0, 9, 0, 0, 0, 9, 0, 247, 255, 0, 0, 28, 0, 8, 0, 0, 0, 9, 0, 248, 255, 0, 0, 28, 0, 9, 0, 0, 0)
tile_set = SubResource("TileSet_yhbwe")

[node name="EntranceMarkers" type="Node2D" parent="."]

[node name="hallway" type="Marker2D" parent="EntranceMarkers"]
position = Vector2(85, -141)

[node name="lobby_hallway" type="Marker2D" parent="EntranceMarkers"]
position = Vector2(-175, -120)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(31, -100)
zoom = Vector2(3, 2.5)
limit_left = -195
limit_top = -234
limit_right = 218
limit_bottom = 178

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("5_nsmg7")

[node name="PhantomCamera2D" type="Node2D" parent="."]
top_level = true
position = Vector2(30, -98)
script = ExtResource("6_5ro5c")
follow_mode = 5
zoom = Vector2(3, 2.5)
tween_resource = SubResource("Resource_nmleu")
follow_damping = true
limit_target = NodePath("../camera_bounds/collision")

[node name="camera_bounds" type="Area2D" parent="."]

[node name="collision" type="CollisionShape2D" parent="camera_bounds"]
position = Vector2(11.5, -28)
shape = SubResource("RectangleShape2D_sws04")
disabled = true

[node name="LobbyExit" parent="." instance=ExtResource("8_m53kc")]
z_index = 2
position = Vector2(-192, -120)
connected_scene = "Lobby_Hallway/lobby_hallway"

[node name="CollisionShape2D" type="CollisionShape2D" parent="LobbyExit"]
z_index = 1
position = Vector2(1, -0.5)
shape = SubResource("RectangleShape2D_7ytyv")

[node name="SceneTrigger" parent="." instance=ExtResource("8_m53kc")]
position = Vector2(84, -179)
connected_scene = "Hallway/hallway"
is_interact = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="SceneTrigger"]
position = Vector2(1, -3)
shape = SubResource("RectangleShape2D_ypfkd")
